<% @title = "TAMU LMSA Points" %>
<%= stylesheet_link_tag "home.css" %>


<div class="container py-4">
    <br>
    <h1  class="display-10 fw-bold text-light">Points System</h1>
    <div class="d-flex flex-column bd-highlight p-5 mb-4 bg-light rounded-3">
        <ul>
        <%Point.all.each do |po|%>
            <li><%=po.name%>: <%=po.val%> points per <%=po.point_type%>: <%=po.desc%> <%= link_to 'Edit', edit_point_path(po) %> <%= link_to 'Destroy', po, method: :delete, data: { confirm: 'Are you sure?' } %></li>
        <%end%>
        </ul>
        <a type="button" class="btn btn-lg btn-outline-secondary text-dark" data-bs-toggle="modal" data-bs-target="#pointsmodal">
          Add a new point
        </a>  
    </div>
</div>



<div class="modal fade" id="pointsmodal" tabindex="-1" aria-labelledby="points_modal_label" aria-hidden="true">

    <div class="modal-dialog modal-lg">

        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="pointsModalLabel">Adding new point type</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

        
        <%= form_with(model: @point) do |form| %>
            <div class="mb-3">
                <%= form.label :name, class: "form-label" %>
                <%= form.text_field :name, {class: "form-control", placeholder: "Name"} %>
            </div>

            <div class="mb-3">
                <%= form.label :val, class: "form-label" %>
                <%= form.number_field :val, {class: "form-control", placeholder: "Value"} %>
            </div>

            <div class="mb-3">
                <%= form.label :desc, class: "form-label" %>
                <%= form.text_field :desc, {class: "form-control", placeholder: "Description"} %>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <%= form.submit "Submit new points", {class:"btn btn-secondary", "data-bs-dismiss":"modal"} %>
            </div>

        <% end %>

        </div>

    </div>

</div>